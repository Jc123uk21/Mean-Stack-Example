{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/security/auth-service.service\";\nimport * as i2 from \"src/app/services/movie.service\";\nimport * as i3 from \"src/app/services/cart.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction MovieListComponent_div_4_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function MovieListComponent_div_4_div_17_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const movie_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToCart({\n        movie: movie_r1\n      }));\n    });\n    i0.ɵɵtext(2, \"Add to cart\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MovieListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\")(5, \"img\", 5)(6, \"br\");\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 6)(14, \"div\")(15, \"a\", 7);\n    i0.ɵɵtext(16, \"more info\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, MovieListComponent_div_4_div_17_Template, 3, 0, \"div\", 8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const movie_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"alt\", movie_r1.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Age Rating \", movie_r1.ageRating, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Purchase for \\u00A3\", movie_r1.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"User Rating \", movie_r1.userRating, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoggedIn);\n  }\n}\nexport class MovieListComponent {\n  //constructor\n  constructor(authService, movieService, cartService, router) {\n    this.authService = authService;\n    this.movieService = movieService;\n    this.cartService = cartService;\n    this.router = router;\n  }\n  //add movie to cart\n  addToCart(movie) {\n    //Add movie to cart\n    this.cartService.addToCart(this.movie);\n    //route user to cart page\n    this.router.navigateByUrl('/cart');\n  }\n  ngOnInit() {\n    this.authService.getIsAuthenticated().subscribe({\n      next: res => {\n        this.isLoggedIn = res.valueOf();\n      }\n    });\n    this.movieService.getAllMovies().subscribe(data => {\n      this.movies = data;\n    });\n  }\n}\nMovieListComponent.ɵfac = function MovieListComponent_Factory(t) {\n  return new (t || MovieListComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.CartService), i0.ɵɵdirectiveInject(i4.Router));\n};\nMovieListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MovieListComponent,\n  selectors: [[\"app-movie-list\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"movie-list\", \"text-center\", \"background-primary\", \"bg-gradient\"], [1, \"container\", \"flex\"], [\"class\", \"movie-cards\", 4, \"ngFor\", \"ngForOf\"], [1, \"movie-cards\"], [1, \"card\"], [\"src\", \"./assets/icons/watching-a-movie.png\", 3, \"alt\"], [1, \"grid\"], [\"href\", \"\"], [4, \"ngIf\"], [3, \"click\"]],\n  template: function MovieListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n      i0.ɵɵtext(2, \"Available Movies\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵtemplate(4, MovieListComponent_div_4_Template, 18, 6, \"div\", 2);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.movies);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf],\n  styles: [\".movie-list[_ngcontent-%COMP%]{\\n  min-height: 550px;\\n}\\n\\n.container[_ngcontent-%COMP%]{\\n  padding-top: 20px;\\n}\\n.flex[_ngcontent-%COMP%]{\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  border: 1rem;\\n  border-radius: 4%;\\n  border-color: #fff;\\n}\\n.movie-cards[_ngcontent-%COMP%]{\\n  justify-content: space-between;\\n  background-color: #fff;\\n  padding: 10px;\\n  margin-right: 8px;\\n  border-radius: 13px;\\n}\\n.movie-cards[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{\\n  height: 320px;\\n  width: 250px;\\n}\\n.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n  color: black;\\n}\\n.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\n  height: 60px;\\n  width: 80px;\\n}\\n\\n.container[_ngcontent-%COMP%]{\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n}\\n\\n\\n\\n@Media(max-width: 500px){\\n  .container.flex{\\n      padding-bottom: 25px;\\n  }\\n  .movie-cards.card{\\n      padding-bottom: 20px;\\n  }\\n\\n  .card{\\n      height: 100px;\\n  }\\n\\n  h3{\\n      padding-top: 10px;\\n  }\\n}\\n\\n\\n\\n@Media(max-width:768px){\\n  .container.flex{\\n      padding-bottom: 25px;\\n  }\\n  .movie-cards.card{\\n      padding-bottom: 20px;\\n  }\\n\\n  h3{\\n      padding-top: 10px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tb3ZpZS1saXN0L21vdmllLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsOEJBQThCO0VBQzlCLHNCQUFzQjtFQUN0QixhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7QUFDZDtBQUNBO0VBQ0UsWUFBWTtBQUNkO0FBQ0E7RUFDRSxZQUFZO0VBQ1osV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7O0FBRUEsU0FBUztBQUNUO0VBQ0U7TUFDSSxvQkFBb0I7RUFDeEI7RUFDQTtNQUNJLG9CQUFvQjtFQUN4Qjs7RUFFQTtNQUNJLGFBQWE7RUFDakI7O0VBRUE7TUFDSSxpQkFBaUI7RUFDckI7QUFDRjs7QUFFQSxTQUFTO0FBQ1Q7RUFDRTtNQUNJLG9CQUFvQjtFQUN4QjtFQUNBO01BQ0ksb0JBQW9CO0VBQ3hCOztFQUVBO01BQ0ksaUJBQWlCO0VBQ3JCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIubW92aWUtbGlzdHtcclxuICBtaW4taGVpZ2h0OiA1NTBweDtcclxufVxyXG5cclxuLmNvbnRhaW5lcntcclxuICBwYWRkaW5nLXRvcDogMjBweDtcclxufVxyXG4uZmxleHtcclxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xyXG4gIGZsZXgtd3JhcDogd3JhcDtcclxuICBib3JkZXI6IDFyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogNCU7XHJcbiAgYm9yZGVyLWNvbG9yOiAjZmZmO1xyXG59XHJcbi5tb3ZpZS1jYXJkc3tcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIG1hcmdpbi1yaWdodDogOHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEzcHg7XHJcbn1cclxuLm1vdmllLWNhcmRzIC5jYXJke1xyXG4gIGhlaWdodDogMzIwcHg7XHJcbiAgd2lkdGg6IDI1MHB4O1xyXG59XHJcbi5jYXJkIGF7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG59XHJcbi5jYXJkIGltZ3tcclxuICBoZWlnaHQ6IDYwcHg7XHJcbiAgd2lkdGg6IDgwcHg7XHJcbn1cclxuXHJcbi5jb250YWluZXJ7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbn1cclxuXHJcbi8qTW9iaWxlKi9cclxuQE1lZGlhKG1heC13aWR0aDogNTAwcHgpe1xyXG4gIC5jb250YWluZXIuZmxleHtcclxuICAgICAgcGFkZGluZy1ib3R0b206IDI1cHg7XHJcbiAgfVxyXG4gIC5tb3ZpZS1jYXJkcy5jYXJke1xyXG4gICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxuICB9XHJcblxyXG4gIC5jYXJke1xyXG4gICAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gIH1cclxuXHJcbiAgaDN7XHJcbiAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gIH1cclxufVxyXG5cclxuLypUYWJsZXQqL1xyXG5ATWVkaWEobWF4LXdpZHRoOjc2OHB4KXtcclxuICAuY29udGFpbmVyLmZsZXh7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyNXB4O1xyXG4gIH1cclxuICAubW92aWUtY2FyZHMuY2FyZHtcclxuICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgfVxyXG5cclxuICBoM3tcclxuICAgICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","MovieListComponent_div_4_div_17_Template_button_click_1_listener","ɵɵrestoreView","_r5","movie_r1","ɵɵnextContext","$implicit","ctx_r3","ɵɵresetView","addToCart","movie","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵtemplate","MovieListComponent_div_4_div_17_Template","ɵɵadvance","ɵɵtextInterpolate","title","ɵɵpropertyInterpolate","ɵɵtextInterpolate1","ageRating","price","userRating","ɵɵproperty","ctx_r0","isLoggedIn","MovieListComponent","constructor","authService","movieService","cartService","router","navigateByUrl","ngOnInit","getIsAuthenticated","subscribe","next","res","valueOf","getAllMovies","data","movies","ɵɵdirectiveInject","i1","AuthService","i2","MovieService","i3","CartService","i4","Router","selectors","decls","vars","consts","template","MovieListComponent_Template","rf","ctx","MovieListComponent_div_4_Template"],"sources":["C:\\Users\\Georgie\\Desktop\\DevelopmentProjects\\FullStack\\MEAN\\movie4you\\frontend\\src\\app\\components\\movie-list\\movie-list.component.ts","C:\\Users\\Georgie\\Desktop\\DevelopmentProjects\\FullStack\\MEAN\\movie4you\\frontend\\src\\app\\components\\movie-list\\movie-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Movie } from 'src/app/models/movie';\nimport { AuthService } from 'src/app/security/auth-service.service';\nimport { CartService } from 'src/app/services/cart.service';\nimport { MovieService } from 'src/app/services/movie.service';\n\n@Component({\n  selector: 'app-movie-list',\n  templateUrl: './movie-list.component.html',\n  styleUrls: ['./movie-list.component.css']\n})\nexport class MovieListComponent implements OnInit{\n\n  //Attribute variables\n  isLoggedIn?:boolean;\n\n  movie!: Movie;\n  movies!: Movie[];\n\n  //constructor\n  constructor(private authService: AuthService, private movieService: MovieService,\n  private cartService: CartService, private router: Router){}\n\n  //add movie to cart\n  addToCart(movie: any){\n    //Add movie to cart\n    this.cartService.addToCart(this.movie);\n    //route user to cart page\n    this.router.navigateByUrl('/cart');\n  }\n\n  ngOnInit(): void {\n    this.authService.getIsAuthenticated().subscribe({\n      next:res => {\n        this.isLoggedIn = res.valueOf()}\n      });\n\n    this.movieService.getAllMovies().subscribe(data =>{\n        this.movies = data;\n    })\n  }\n}\n","<div class=\"movie-list text-center background-primary bg-gradient\">\n  <h3>Available Movies</h3>\n  <div class=\"container flex\">\n      <div class = \"movie-cards\" *ngFor=\"let movie of movies\">\n          <div class=\"card\">\n              <h4>{{movie.title}}</h4><br>\n              <img src = \"./assets/icons/watching-a-movie.png\" alt= {{movie.title}}><br>\n              <p>Age Rating {{movie.ageRating}}</p>\n              <p>Purchase for £{{movie.price}}</p>\n              <p>User Rating {{movie.userRating}}</p>\n              <div class =\"grid\">\n               <div>\n                  <a href=\"\">more info</a>\n                  </div>\n                  <div *ngIf =\"isLoggedIn\">\n                     <button (click)=\"addToCart({movie})\">Add to cart</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </div>\n</div>\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}